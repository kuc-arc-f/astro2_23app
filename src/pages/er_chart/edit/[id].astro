---
import Layout from '../../../layouts/Layout.astro';
import LibCrud from '../../../lib/LibCrud';
import type { Post } from '../index.astro';
import CrudShow from '../CrudShow';
//
const { id } = Astro.params;
console.log(id);
let item: any = await CrudShow.get(Number(id));
console.log(item);
---
<!-- -->
<style>
</style>

<!-- MarkUp -->
<Layout title="Welcome to Astro.">
    <main class="container">
        <a class="btn btn-outline-primary" href={`/er_chart`}>Back</a>
        <hr />		
        <h1>CrudEdit</h1>
        <p>Id:{id}</p>
        <hr />
        <div class="row">
            <input type="hidden" value={id} id="item_id" />
            <input type="hidden" value={item.completed} id="item_completed" />
            <div className="col-md-6 form-group">
                <label for="title">Title</label>
                <input type="text" id="title" name="title" required 
                class="form-control" value={item.title}>
            </div>
            <div>
                <label for="content">Content</label>
                <textarea id="content" name="content" required
                class="form-control"
                rows="10">{item.content}</textarea>
            </div>
        </div>
        <button id="btn_save" class="btn btn-primary my-2">Save</button>
    </main>
</Layout>
<!-- -->
<script src="../CrudEdit.ts"></script>

<!--
	
 -->